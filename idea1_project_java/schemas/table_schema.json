{
  "orders": {
    "primary_lookup": "order_id",

    "unique_constraints": [
      ["order_id"]
    ],

    "mandatory_columns": [
      "order_id",
      "status",
      "total_amount",
      "order_metadata"
    ],

    "json_columns": {
      "order_metadata": {
        "required": [
          "customer.name",
          "customer.city",
          "payment.method"
        ],
        "ignored": []
      }
    }
  },

  "fulfilment": {
    "primary_lookup": "order_id",

    "unique_constraints": [
      ["fulfilment_id"]
    ],

    "mandatory_columns": [
      "fulfilment_id",
      "order_id",
      "status",
      "fulfilment_details"
    ],

    "json_columns": {
      "fulfilment_details": {
        "required": [
          "deliverySlot.startTime",
          "deliverySlot.endTime"
        ],
        "ignored": []
      }
    }
  },

  "operations": {
    "primary_lookup": "order_id",
    "secondary_lookup": "operation_type",

    "unique_constraints": [
      ["order_id", "operation_type"]
    ],

    "mandatory_columns": [
      "order_id",
      "operation_type",
      "status"
    ]
  },

  "audit_logs": {
  "primary_lookup": "order_id",
  "secondary_lookup": "operation",

  "mandatory_columns": [
    "order_id",
    "audit_id",
    "operation",
    "status",
    "exception"
  ],

  "generated_columns": [
    "audit_id"
  ],

  "semantic_rules": {
    "exception": {
      "type": "nullable_presence"
    }
  }
},

"job_queue": {
  "primary_lookup": "order_id",

  "mandatory_columns": [
    "order_id",
    "operation",
    "exception",
    "ordermetadata",
    "retry_count"
  ],

  "json_columns": {
    "ordermetadata": {
      "required": [
        "customer.name"
      ],
      "ignored": []
    }
  },

  "semantic_rules": {
    "exception": {
      "type": "nullable_presence"
    },
    "retry_count": {
      "type": "min_value",
      "min": 0
    }
  },

  "table_expectation": "ABSENT_ON_SUCCESS"
}
}
